#include <stdio.h>
#include <string.h>
 
#define FIN "palind.in"
#define FOUT "palind.out"
#define N_MAX 105
#define NrMare 666667
 
char S[N_MAX];
 
int solve()
{
int nr,i,j,lungime,minim,pozitie1,pozitie2;
lungime=strlen(S);
if (lungime<=1) return 0;
for (minim=NrMare,i=0;i<lungime-1;++i)
    {
    for (j=lungime-1;j>i;--j)
    if (S[i]==S[j] && i+lungime-j-1<minim)
       {
        minim=lungime+i-j-1;
        pozitie1=i;
        pozitie2=j;
        break;
        }
     }
if (minim==NrMare)
return -NrMare;
nr=0;
for (i=0;i<=lungime;++i)
     if (i!=pozitie1 && i!=pozitie2)
    S[nr++]=S[i];
return minim+solve();
}
 
int main()
{
int T,REZ;
freopen(FIN,"rt",stdin);
freopen(FOUT,"wt",stdout);
scanf("%d", &T);
while (T)
      {
       scanf("%s", S);
       REZ=solve();
       if (REZ<0)
      printf("-1\n");
      else
      printf("%d\n",REZ);
      --T;
}
return 0;
}