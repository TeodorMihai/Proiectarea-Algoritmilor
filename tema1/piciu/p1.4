#include<cstdio>
#include<cstring>
 
const int N = (1<<7);
 
char s[N];
int nr[N],n;
 
bool ok()
{
    int i,impar=0;
    char c;
    memset(nr,0,N*sizeof(int));
    for(n=0 ; s[n] && s[n]!='\n' ; ++n)
        ++nr[(int)s[n]];
    for(c='a' ; c <= 'z' ; ++c)
        if(nr[(int)c] & 1)
            ++impar;
    if(impar > 1)
        return false;
    return true;
}
 
void muta_dr(int st,int dr)
{
    char aux=s[st];
    for(; st != dr ; ++st)
        s[st] = s[1+st];
    s[dr] = aux;
}
 
void muta_st(int st,int dr)
{
    char aux=s[dr];
    for(; st != dr ; --dr)
        s[dr] = s[dr-1];
    s[st] = aux;
}
 
int caut_ultim(char c,int p)
{
    while(s[p] != c)
        --p;
    return p;
}
 
int caut_prim(char c,int p)
{
    while(s[p] != c)
        ++p;
    return p;
}
 
int calcul()
{
    if(!ok())
        return -1;
    int p,st=0,dr=n-1,r=0;
    while(st < dr)
        if(nr[(int)s[st]] == 1)
            break;
        else
        {
            p=caut_ultim(s[st],dr);
            nr[(int)s[st]] -= 2;
            muta_dr(p,dr);
            r += dr-p;
            ++st;
            --dr;
        }
    while(st < dr)
    {
        p = caut_prim(s[dr],st);
        nr[(int)s[dr]] -= 2;
        muta_st(st,p);
        r += p-st;
        ++st;
        --dr;
    }
    return r;
}
 
int main()
{
    freopen("palind.in","r",stdin);
    freopen("palind.out","w",stdout);
    int t;
    scanf("%d\n",&t);
    while(t--)
    {
        fgets(s,N,stdin);
        printf("%d\n",calcul());
    }
    return 0;
}