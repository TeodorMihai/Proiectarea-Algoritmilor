#include<fstream.h>
#define NMAX 128
 
char a[NMAX], c, mnc;
int i, n, t, nr, fr[32], ok, mn, smn, dmn;
 
ifstream f("palind.in");
ofstream g("palind.out");
 
int stanga(char c, int p)
{
    int i;
    for (i=p; i<=n; ++i)
        if (a[i]==c) return i;
}
 
int dreapta(char c, int u)
{
    int i;
    for (i=u; i>0; --i)
        if (a[i]==c) return i;
}
 
void movest(int st, int p)
{
    int i, aux;
    for (i=st; i>p; --i)
    {
        aux=a[i];
        a[i]=a[i-1];
        a[i-1]=aux;
    }
}
 
void movedr(int dr, int u)
{
    int i, aux;
    for (i=dr; i<u; ++i)
    {
        aux=a[i];
        a[i]=a[i+1];
        a[i+1]=aux;
    }
}
 
void next(int p, int u)
{
    int st, dr, lg;
    if (p<u)
        if (a[p]!=a[u])
        {
            mn=n*n;
            for (c='a'; c<='z'; ++c)
                if (fr[c-'a'+1]>1)
                {
                    st=stanga(c, p);
                    dr=dreapta(c, u);
                    lg=st-p+u-dr;
                    if (lg<mn)
                    {
                        mn=lg;
                        smn=st;dmn=dr;mnc=c;
                    }
                }
            nr+=mn;
            fr[mnc-'a'+1]-=2;
            movest(smn, p);
            movedr(dmn, u);
            next(p+1, u-1);
        }
        else next(p+1, u-1);
}
 
int main()
{
    f>>t;
    f.getline(a, NMAX);
    while (t--)
    {
        f.getline(a, NMAX);
        nr=0;n=strlen(a);ok=0;
        for (i=0; i<n; ++i) ++fr[a[i]-'a'+1];
        for (i=1; i<=26; ++i)
            if ((fr[i]/2)*2!=fr[i]) ++ok;
        if (ok>1) nr=-1;
            else next(0,n-1);
        g<<nr<<"\n";
        for (i=1; i<=26; ++i) fr[i]=0;
    }
    f.close();
    g.close();
    return 0;
}
    